# ç»¿è«åŠ©æ‰‹ï¼ˆVerdure Assistantï¼‰

<p align="center">
  <img src="assets/logo.png" alt="Verdure Assistant Logo" width="200" height="200">
</p>

<p align="center">
  <a href="https://github.com/maker-community/Verdure.Assistant/releases/latest">
    <img src="https://img.shields.io/github/v/release/maker-community/Verdure.Assistant?style=flat-square&logo=github&color=blue" alt="Release"/>
  </a>
  <a href="https://github.com/maker-community/Verdure.Assistant/actions">
    <img src="https://img.shields.io/github/actions/workflow/status/maker-community/Verdure.Assistant/build.yml?style=flat-square&logo=github" alt="Build Status"/>
  </a>
  <a href="https://opensource.org/licenses/MIT">
    <img src="https://img.shields.io/badge/License-MIT-green.svg?style=flat-square" alt="License: MIT"/>
  </a>
  <a href="https://github.com/maker-community/Verdure.Assistant/stargazers">
    <img src="https://img.shields.io/github/stars/maker-community/Verdure.Assistant?style=flat-square&logo=github" alt="Stars"/>
  </a>
</p>

<p align="center">
  ğŸ¤– åŸºäº .NET 9.0 çš„å¤šæœåŠ¡æ™ºèƒ½åŠ©æ‰‹ | è·¨å¹³å° AI è¯­éŸ³äº¤äº’è§£å†³æ–¹æ¡ˆ
</p>

<p align="center">
  <a href="#å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</a> â€¢
  <a href="#åŠŸèƒ½ç‰¹æ€§">åŠŸèƒ½ç‰¹æ€§</a> â€¢
  <a href="#æ¶æ„è®¾è®¡">æ¶æ„è®¾è®¡</a> â€¢
  <a href="#å¼€å‘æŒ‡å—">å¼€å‘æŒ‡å—</a> â€¢
  <a href="#è´¡çŒ®æŒ‡å—">è´¡çŒ®æŒ‡å—</a>
</p>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

ç»¿è«åŠ©æ‰‹ï¼ˆVerdure Assistantï¼‰æ˜¯ä¸€ä¸ªåŸºäº .NET 9.0 å¼€å‘çš„å¤šæœåŠ¡æ™ºèƒ½åŠ©æ‰‹ï¼Œæä¾›äº†å®Œæ•´çš„AIè¯­éŸ³äº¤äº’è§£å†³æ–¹æ¡ˆã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„è½¯ä»¶æ¶æ„è®¾è®¡ï¼Œæ”¯æŒå¤šç§éƒ¨ç½²æ–¹å¼ï¼Œå¯åœ¨Windowsã€Linuxã€macOSç­‰å¹³å°è¿è¡Œã€‚

ä½œä¸ºä¸€ä¸ªå¤šæœåŠ¡é›†æˆå¹³å°ï¼Œç»¿è«åŠ©æ‰‹ä¸ä»…æ”¯æŒåŸæœ‰çš„å°æ™ºæœåŠ¡ï¼Œè¿˜è®¡åˆ’é›†æˆæ›´å¤šAIåŠ©æ‰‹æœåŠ¡ï¼Œä¸ºç”¨æˆ·æä¾›æ›´ä¸°å¯Œçš„æ™ºèƒ½äº¤äº’ä½“éªŒã€‚

> **âš ï¸ å®éªŒå¼€å‘é˜¶æ®µè¯´æ˜**
> 
> æœ¬é¡¹ç›®ç›®å‰å¤„äºå®éªŒå¼€å‘é˜¶æ®µï¼Œè®¸å¤šåŠŸèƒ½å°šæœªå®Œå…¨å®Œå–„ï¼Œä½†æ ¸å¿ƒåŠŸèƒ½å·²ç»å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚é¡¹ç›®ä¸»è¦ç”¨äºå­¦ä¹ å’ŒæŠ€æœ¯æ¢ç´¢ç›®çš„ï¼Œä¸ç¤¾åŒºåˆ†äº«å¼€å‘ç»éªŒå’ŒæŠ€æœ¯æˆæœã€‚
> 
> æˆ‘ä»¬æ·±çŸ¥é¡¹ç›®è¿˜æœ‰å¾ˆå¤šéœ€è¦æ”¹è¿›çš„åœ°æ–¹ï¼ŒæœŸå¾…ç¤¾åŒºçš„ç†è§£å’Œæ”¯æŒã€‚å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œæ¬¢è¿é€šè¿‡ Issues æˆ–è®¨è®ºåŒºæå‡ºå»ºè®¾æ€§çš„åé¦ˆï¼Œè®©æˆ‘ä»¬ä¸€èµ·å®Œå–„è¿™ä¸ªé¡¹ç›®ã€‚
> 
> æ„Ÿè°¢æ‚¨çš„ç†è§£å’Œæ”¯æŒï¼ğŸ™

**ğŸ¤ å…³é”®è¯å”¤é†’æ”¯æŒï¼š**
- "ä½ å¥½å°ç”µ"ï¼ˆé»˜è®¤ï¼‰
- "ä½ å¥½å°å¨œ"

**ğŸ’» åŒé‡ä½¿ç”¨ä½“éªŒï¼š**
- **æ§åˆ¶å°ç‰ˆæœ¬** - ç»‘å®šè®¾å¤‡åï¼Œå¯åŠ¨æ§åˆ¶å°ç¨‹åºï¼Œè¯´"ä½ å¥½å°ç”µ"å³å¯å¼€å¯å¯¹è¯
- **WinUIç‰ˆæœ¬** - æä¾›ç°ä»£åŒ–å›¾å½¢ç•Œé¢ï¼ˆè§ä¸‹æ–¹æˆªå›¾ï¼‰ï¼Œå…ˆç‚¹å‡»è¿æ¥æŒ‰é’®ï¼Œç„¶åè¯´"ä½ å¥½å°ç”µ"å¼€å¯å¯¹è¯

### ğŸ¯ è®¾è®¡ç›®æ ‡

- **è·¨å¹³å°å…¼å®¹** - æ”¯æŒ Windowsã€Linuxã€macOS
- **æ¨¡å—åŒ–æ¶æ„** - æ¸…æ™°çš„åˆ†å±‚è®¾è®¡ï¼Œæ˜“äºæ‰©å±•
- **é«˜æ€§èƒ½** - ä¼˜åŒ–çš„éŸ³é¢‘å¤„ç†å’Œç½‘ç»œé€šä¿¡
- **æ˜“äºä½¿ç”¨** - æä¾›å›¾å½¢ç•Œé¢å’Œå‘½ä»¤è¡Œä¸¤ç§ä½¿ç”¨æ–¹å¼
- **å¼€å‘å‹å¥½** - å®Œæ•´çš„æ–‡æ¡£å’Œç¤ºä¾‹ä»£ç 

## ğŸ“¸ åº”ç”¨æˆªå›¾

### WinUI æ¡Œé¢åº”ç”¨
<p align="center">
  <img src="assets/screenshots/winui-app.png" alt="WinUI Application Screenshot" width="800">
</p>

*ç°ä»£åŒ–çš„ Windows æ¡Œé¢åº”ç”¨ç•Œé¢ï¼Œæ”¯æŒè¯­éŸ³äº¤äº’å’Œå®æ—¶çŠ¶æ€æ˜¾ç¤º*

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¤ è¯­éŸ³äº¤äº’
- **å®æ—¶è¯­éŸ³è¯†åˆ«** - æ”¯æŒè¿ç»­è¯­éŸ³è¾“å…¥å’Œè¯†åˆ«
- **è‡ªç„¶è¯­éŸ³åˆæˆ** - é«˜è´¨é‡çš„TTSè¯­éŸ³è¾“å‡º
- **éŸ³é¢‘ç¼–è§£ç ** - åŸºäºOpusçš„é«˜æ•ˆéŸ³é¢‘å¤„ç†
- **å™ªå£°æŠ‘åˆ¶** - æ™ºèƒ½éŸ³é¢‘é¢„å¤„ç†å’Œé™å™ª
- **å…³é”®è¯å”¤é†’** - æ”¯æŒ"ä½ å¥½å°ç”µ"å’Œ"ä½ å¥½å°å¨œ"å”¤é†’è¯

### ğŸŒ é€šä¿¡åè®®
- **WebSocketæ”¯æŒ** - å®æ—¶åŒå‘é€šä¿¡
- **MQTTåè®®** - ç‰©è”ç½‘è®¾å¤‡é›†æˆ
- **åŠ å¯†ä¼ è¾“** - WSSå®‰å…¨è¿æ¥
- **æ–­çº¿é‡è¿** - è‡ªåŠ¨æ¢å¤è¿æ¥æœºåˆ¶

### ğŸ–¥ï¸ ç”¨æˆ·ç•Œé¢
- **WinUI 3åº”ç”¨** - ç°ä»£åŒ–çš„Windowsæ¡Œé¢åº”ç”¨
- **æ§åˆ¶å°ç¨‹åº** - è½»é‡çº§å‘½ä»¤è¡Œç•Œé¢
- **å®æ—¶çŠ¶æ€æ˜¾ç¤º** - å¯è§†åŒ–çš„è¿æ¥å’Œå¯¹è¯çŠ¶æ€
- **æƒ…æ„Ÿè¡¨æƒ…** - åŠ¨æ€è¡¨æƒ…åé¦ˆ

### ğŸ”§ æ™ºèƒ½åŠŸèƒ½
- **è‡ªåŠ¨å¯¹è¯æ¨¡å¼** - è¿ç»­å¯¹è¯ä½“éªŒ
- **çŠ¶æ€ç®¡ç†** - æ™ºèƒ½çš„è®¾å¤‡çŠ¶æ€åˆ‡æ¢
- **é…ç½®ç®¡ç†** - çµæ´»çš„å‚æ•°é…ç½®
- **é”™è¯¯æ¢å¤** - æ™ºèƒ½çš„å¼‚å¸¸å¤„ç†å’Œæ¢å¤

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
verdure-assistant/
â”œâ”€â”€ src/                          # æºä»£ç 
â”‚   â”œâ”€â”€ Verdure.Assistant.Core/   # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ Verdure.Assistant.Console/# æ§åˆ¶å°åº”ç”¨
â”‚   â””â”€â”€ Verdure.Assistant.WinUI/  # WinUIæ¡Œé¢åº”ç”¨
â”œâ”€â”€ tests/                        # æµ‹è¯•é¡¹ç›®
â”‚   â”œâ”€â”€ ApiCheck/                 # APIæµ‹è¯•
â”‚   â”œâ”€â”€ CodecTest/                # ç¼–è§£ç æµ‹è¯•
â”‚   â”œâ”€â”€ ApiCheck/                 # OpusSharp APIæµ‹è¯•
â”‚   â”œâ”€â”€ DecodeTest/               # è§£ç æµ‹è¯•
â”‚   â”œâ”€â”€ OpusApiTest/              # Opus APIæµ‹è¯•
â”‚   â”œâ”€â”€ OpusSharpTest/            # OpusSharpæµ‹è¯•
â”‚   â””â”€â”€ OpusTest/                 # Opusæµ‹è¯•
â”œâ”€â”€ samples/                      # ç¤ºä¾‹ä»£ç 
â”‚   â””â”€â”€ py-xiaozhi/               # Pythonç‰ˆæœ¬ç¤ºä¾‹
â”œâ”€â”€ docs/                         # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ scripts/                      # æ„å»ºå’Œéƒ¨ç½²è„šæœ¬
â”œâ”€â”€ assets/                       # èµ„æºæ–‡ä»¶
â”œâ”€â”€ .github/                      # GitHubå·¥ä½œæµå’Œæ¨¡æ¿
â””â”€â”€ Verdure.Assistant.sln          # è§£å†³æ–¹æ¡ˆæ–‡ä»¶
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·ç•Œé¢å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   WinUI åº”ç”¨    â”‚           æ§åˆ¶å°åº”ç”¨                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    æœåŠ¡å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   è¯­éŸ³èŠå¤©æœåŠ¡   â”‚   é…ç½®æœåŠ¡     â”‚     éªŒè¯æœåŠ¡           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   éŸ³é¢‘å½•åˆ¶æœåŠ¡   â”‚   éŸ³é¢‘æ’­æ”¾æœåŠ¡ â”‚    ç¼–è§£ç æœåŠ¡          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    é€šä¿¡å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  WebSocketå®¢æˆ·ç«¯ â”‚            MQTTå®¢æˆ·ç«¯                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    æ ¸å¿ƒå±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        æ¨¡å‹å®šä¹‰ â”‚ æ¥å£å®šä¹‰ â”‚ å¸¸é‡å®šä¹‰ â”‚ å·¥å…·ç±»            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **.NET 9.0 SDK** æˆ–æ›´é«˜ç‰ˆæœ¬
- **Windows 10/11** (WinUIåº”ç”¨)
- **Visual Studio 2022** æˆ– **Visual Studio Code**

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**
   ```bash   git clone https://github.com/maker-community/Verdure.Assistant.git
   cd Verdure.Assistant
   ```

2. **è¿˜åŸä¾èµ–**
   ```bash
   dotnet restore
   ```

3. **æ„å»ºé¡¹ç›®**
   ```bash
   dotnet build --configuration Release
   ```

4. **è¿è¡Œåº”ç”¨**
   
   **æ§åˆ¶å°ç‰ˆæœ¬ï¼š**
   ```bash
   dotnet run --project src/Verdure.Assistant.Console
   ```
   
   **WinUIç‰ˆæœ¬ï¼š**
   ```bash
   dotnet run --project src/Verdure.Assistant.WinUI
   ```

### é…ç½®è¯´æ˜

åœ¨é¦–æ¬¡è¿è¡Œå‰ï¼Œè¯·é…ç½® `src/Verdure.Assistant.Console/appsettings.json`ï¼š

```json
{
  "ServerUrl": "wss://your-server.com/ws",
  "EnableVoice": true,
  "AudioSampleRate": 16000,
  "AudioChannels": 1,
  "AudioFormat": "opus"
}
```

## ğŸ“± ä½¿ç”¨æŒ‡å—

### æ§åˆ¶å°åº”ç”¨

å¯åŠ¨åä¼šæ˜¾ç¤ºäº¤äº’èœå•ï¼š

```
è¯·é€‰æ‹©æ“ä½œ:
1. å¼€å§‹è¯­éŸ³å¯¹è¯
2. åœæ­¢è¯­éŸ³å¯¹è¯  
3. åˆ‡æ¢å¯¹è¯çŠ¶æ€ (è‡ªåŠ¨æ¨¡å¼)
4. åˆ‡æ¢è‡ªåŠ¨å¯¹è¯æ¨¡å¼
5. å‘é€æ–‡æœ¬æ¶ˆæ¯
6. æŸ¥çœ‹è¿æ¥çŠ¶æ€
7. é€€å‡º
```

**ä½¿ç”¨æµç¨‹ï¼š**
1. é¦–å…ˆç¡®ä¿è®¾å¤‡å·²ç»‘å®š
2. å¯åŠ¨æ§åˆ¶å°ç¨‹åº
3. è¯´"ä½ å¥½å°ç”µ"å¼€å¯å¯¹è¯
4. è¿›è¡Œè¯­éŸ³äº¤äº’

### WinUIåº”ç”¨

å¦‚ä¸Šæ–¹æˆªå›¾æ‰€ç¤ºï¼ŒWinUIåº”ç”¨æä¾›äº†ç›´è§‚çš„å›¾å½¢ç•Œé¢ï¼š

- **è¿æ¥çŠ¶æ€** - é¡¶éƒ¨æ˜¾ç¤ºå½“å‰è¿æ¥çŠ¶æ€å’ŒæœåŠ¡å™¨ä¿¡æ¯
- **è¯­éŸ³æ§åˆ¶** - ä¸­å¤®çš„è¯­éŸ³æŒ‰é’®æ”¯æŒæ‰‹åŠ¨å’Œè‡ªåŠ¨æ¨¡å¼
- **å¯¹è¯è®°å½•** - å®æ—¶æ˜¾ç¤ºå¯¹è¯å†…å®¹å’ŒçŠ¶æ€
- **è®¾ç½®é¢æ¿** - å³ä¾§æä¾›éŸ³é‡è°ƒèŠ‚å’Œå‚æ•°é…ç½®

**ä½¿ç”¨æµç¨‹ï¼š**
1. å¯åŠ¨ WinUI åº”ç”¨
2. ç‚¹å‡» **è¿æ¥** æŒ‰é’®å»ºç«‹æœåŠ¡å™¨è¿æ¥
3. è¿æ¥æˆåŠŸåï¼Œè¯´"ä½ å¥½å°ç”µ"å¼€å¯å¯¹è¯
4. æ”¯æŒæ‰‹åŠ¨æŒ‰é’®æ¨¡å¼å’Œè‡ªåŠ¨è¿ç»­å¯¹è¯æ¨¡å¼

**ç•Œé¢åŠŸèƒ½ï¼š**
- **æ‰‹åŠ¨æ¨¡å¼** - æŒ‰ä½è¯­éŸ³æŒ‰é’®è¿›è¡Œè¯­éŸ³è¾“å…¥
- **è‡ªåŠ¨æ¨¡å¼** - ç‚¹å‡»å¼€å§‹è‡ªåŠ¨å¯¹è¯ï¼Œæ”¯æŒè¿ç»­è¯­éŸ³äº¤äº’
- **çŠ¶æ€æ˜¾ç¤º** - å®æ—¶æ˜¾ç¤ºè¿æ¥çŠ¶æ€ã€è¯­éŸ³è¯†åˆ«çŠ¶æ€
- **å‚æ•°è°ƒèŠ‚** - è°ƒæ•´éŸ³é‡å’Œå…¶ä»–éŸ³é¢‘å‚æ•°

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
verdure-assistant/
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ Verdure.Assistant.Core/      # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ Verdure.Assistant.Console/   # æ§åˆ¶å°åº”ç”¨
â”‚   â””â”€â”€ Verdure.Assistant.WinUI/     # WinUIåº”ç”¨
â”œâ”€â”€ tests/                  # æµ‹è¯•é¡¹ç›®
â”œâ”€â”€ samples/               # ç¤ºä¾‹ä»£ç 
â”‚   â””â”€â”€ py-xiaozhi/        # Pythonå‚è€ƒå®ç°
â”œâ”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ scripts/               # æ„å»ºè„šæœ¬
â”œâ”€â”€ assets/                # èµ„æºæ–‡ä»¶
â”œâ”€â”€ build/                 # æ„å»ºè¾“å‡º
â””â”€â”€ .github/               # GitHubé…ç½®
```

### æ ¸å¿ƒç»„ä»¶

#### VoiceChatService
è¯­éŸ³èŠå¤©æœåŠ¡çš„æ ¸å¿ƒå®ç°ï¼Œç®¡ç†è¯­éŸ³è¾“å…¥è¾“å‡ºå’ŒçŠ¶æ€è½¬æ¢ã€‚

```csharp
public interface IVoiceChatService
{
    Task StartVoiceChatAsync();
    Task StopVoiceChatAsync();
    Task SendTextMessageAsync(string text);
    bool IsConnected { get; }
    DeviceState CurrentState { get; }
}
```

#### ConfigurationService  
é…ç½®ç®¡ç†æœåŠ¡ï¼Œå¤„ç†åŠ¨æ€é…ç½®å’ŒOTAæ›´æ–°ã€‚

#### AudioCodec
éŸ³é¢‘ç¼–è§£ç æœåŠ¡ï¼Œæ”¯æŒOpusæ ¼å¼çš„éŸ³é¢‘å¤„ç†ã€‚

### æ‰©å±•å¼€å‘

1. **æ·»åŠ æ–°çš„éŸ³é¢‘ç¼–è§£ç å™¨**
   ```csharp
   public class CustomAudioCodec : IAudioCodec
   {
       public byte[] Encode(byte[] pcmData, int sampleRate, int channels)
       {
           // å®ç°ç¼–ç é€»è¾‘
       }
       
       public byte[] Decode(byte[] encodedData, int sampleRate, int channels)
       {
           // å®ç°è§£ç é€»è¾‘
       }
   }
   ```

2. **æ·»åŠ æ–°çš„é€šä¿¡åè®®**
   ```csharp
   public class CustomClient : ICommunicationClient
   {
       public async Task ConnectAsync() { /* å®ç°è¿æ¥é€»è¾‘ */ }
       public async Task SendMessageAsync(string message) { /* å®ç°å‘é€é€»è¾‘ */ }
       // ... å…¶ä»–æ¥å£å®ç°
   }
   ```

## ğŸ§ª æµ‹è¯•

è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼š
```bash
dotnet test
```

è¿è¡Œç‰¹å®šæµ‹è¯•é¡¹ç›®ï¼š
```bash
dotnet test tests/Verdure.Assistant.Core.Tests
```

## ğŸ“¦ éƒ¨ç½²

### å•æ–‡ä»¶å‘å¸ƒ

**Windows:**
```bash
dotnet publish src/Verdure.Assistant.Console -c Release -r win-x64 --self-contained true -p:PublishSingleFile=true
```

**Linux:**
```bash
dotnet publish src/Verdure.Assistant.Console -c Release -r linux-x64 --self-contained true -p:PublishSingleFile=true
```

**macOS:**
```bash
dotnet publish src/Verdure.Assistant.Console -c Release -r osx-x64 --self-contained true -p:PublishSingleFile=true
```

### Dockeréƒ¨ç½²

```dockerfile
FROM mcr.microsoft.com/dotnet/runtime:9.0
COPY publish/ /app
WORKDIR /app
ENTRYPOINT ["./Verdure.Assistant.Console"]
```

## ğŸ‘¨â€ğŸ’» å¼€å‘æŒ‡å—

### å¿«é€Ÿå¼€å§‹å¼€å‘

1. **è®¾ç½®å¼€å‘ç¯å¢ƒ**
   ```bash
   # è¿è¡Œå¼€å‘ç¯å¢ƒè®¾ç½®è„šæœ¬
   .\scripts\setup-dev.ps1
   ```

2. **æ„å»ºé¡¹ç›®**
   ```bash
   # ä½¿ç”¨æ„å»ºè„šæœ¬
   .\scripts\build.ps1 -Configuration Debug -Test
   
   # æˆ–è€…ä½¿ç”¨dotnetå‘½ä»¤
   dotnet build --configuration Debug
   ```

3. **è¿è¡Œæµ‹è¯•**
   ```bash
   # ä½¿ç”¨æµ‹è¯•è„šæœ¬
   .\scripts\test.ps1 -Coverage
   
   # æˆ–è€…ä½¿ç”¨dotnetå‘½ä»¤
   dotnet test --configuration Debug
   ```

### å¯ç”¨è„šæœ¬

é¡¹ç›®æä¾›äº†ä»¥ä¸‹PowerShellè„šæœ¬æ¥ç®€åŒ–å¼€å‘æµç¨‹ï¼š

- **`scripts/setup-dev.ps1`** - è®¾ç½®å¼€å‘ç¯å¢ƒ
- **`scripts/build.ps1`** - æ„å»ºé¡¹ç›®
- **`scripts/test.ps1`** - è¿è¡Œæµ‹è¯•
- **`scripts/build.bat`** - Windowsæ‰¹å¤„ç†æ„å»ºè„šæœ¬
- **`scripts/build.sh`** - Unix shellæ„å»ºè„šæœ¬

### IDEé…ç½®

#### Visual Studio 2022
1. æ‰“å¼€ `Verdure.Assistant.sln`
2. è®¾ç½®å¯åŠ¨é¡¹ç›®ä¸º `Verdure.Assistant.Console` æˆ– `Verdure.Assistant.WinUI`
3. ç¡®ä¿é€‰æ‹©äº†æ­£ç¡®çš„ç›®æ ‡æ¡†æ¶ (.NET 9.0)

#### Visual Studio Code
1. å®‰è£…C# DevKitæ‰©å±•
2. æ‰“å¼€é¡¹ç›®æ ¹ç›®å½•
3. ä½¿ç”¨ `Ctrl+Shift+P` æ‰“å¼€å‘½ä»¤é¢æ¿
4. é€‰æ‹© ".NET: Generate Assets for Build and Debug"

### è°ƒè¯•æŠ€å·§

1. **æ–­ç‚¹è°ƒè¯•**
   - åœ¨å…³é”®ä»£ç å¤„è®¾ç½®æ–­ç‚¹
   - ä½¿ç”¨æ¡ä»¶æ–­ç‚¹ç­›é€‰ç‰¹å®šæƒ…å†µ

2. **æ—¥å¿—è°ƒè¯•**
   ```csharp
   // ä½¿ç”¨å†…ç½®æ—¥å¿—
   _logger.LogDebug("è°ƒè¯•ä¿¡æ¯: {Value}", someValue);
   _logger.LogWarning("è­¦å‘Š: {Message}", message);
   ```

3. **æ€§èƒ½åˆ†æ**
   ```bash
   # ä½¿ç”¨dotnet-traceè¿›è¡Œæ€§èƒ½åˆ†æ
   dotnet trace collect --providers Microsoft-Extensions-Logging --process-id <PID>
   ```

### ä»£ç è§„èŒƒ

é¡¹ç›®éµå¾ªä»¥ä¸‹ä»£ç è§„èŒƒï¼š

- **å‘½åçº¦å®š**: ä½¿ç”¨PascalCaseå‘½åç±»å’Œæ–¹æ³•ï¼ŒcamelCaseå‘½åå­—æ®µå’Œå˜é‡
- **æ–‡ä»¶ç»„ç»‡**: æ¯ä¸ªç±»ä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶åä¸ç±»åä¸€è‡´
- **æ³¨é‡Š**: ä¸ºå…¬å…±APIæä¾›XMLæ–‡æ¡£æ³¨é‡Š
- **å¼‚æ­¥ç¼–ç¨‹**: å¼‚æ­¥æ–¹æ³•ä»¥Asyncç»“å°¾ï¼Œæ­£ç¡®å¤„ç†ConfigureAwait

### Gitå·¥ä½œæµ

1. **åˆ†æ”¯ç­–ç•¥**
   - `main` - ä¸»åˆ†æ”¯ï¼ŒåŒ…å«ç¨³å®šä»£ç 
   - `develop` - å¼€å‘åˆ†æ”¯ï¼ŒåŒ…å«æœ€æ–°åŠŸèƒ½
   - `feature/*` - åŠŸèƒ½åˆ†æ”¯
   - `bugfix/*` - ä¿®å¤åˆ†æ”¯

2. **æäº¤è§„èŒƒ**
   ```
   type(scope): description
   
   ä¾‹å¦‚:
   feat(core): æ·»åŠ è¯­éŸ³è¯†åˆ«åŠŸèƒ½
   fix(ui): ä¿®å¤è¿æ¥çŠ¶æ€æ˜¾ç¤ºé—®é¢˜
   docs(readme): æ›´æ–°å®‰è£…è¯´æ˜
   ```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£è¯¦ç»†ä¿¡æ¯ã€‚

### è´¡çŒ®ç±»å‹

- ğŸ› **BugæŠ¥å‘Š** - å¸®åŠ©æˆ‘ä»¬å‘ç°å’Œä¿®å¤é—®é¢˜
- âœ¨ **åŠŸèƒ½è¯·æ±‚** - æå‡ºæ–°åŠŸèƒ½å»ºè®®
- ğŸ“– **æ–‡æ¡£æ”¹è¿›** - å®Œå–„é¡¹ç›®æ–‡æ¡£
- ğŸ”§ **ä»£ç è´¡çŒ®** - æäº¤ä»£ç ä¿®å¤æˆ–æ–°åŠŸèƒ½
- ğŸ¨ **UI/UXæ”¹è¿›** - æ”¹è¿›ç”¨æˆ·ç•Œé¢å’Œä½“éªŒ

### å¼€å‘æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“ æ›´æ–°æ—¥å¿—

### æœ€æ–°æ›´æ–° (2024-12-08)

- ğŸ“¸ **æ–°å¢åº”ç”¨æˆªå›¾** - æ·»åŠ äº† WinUI åº”ç”¨çš„ç•Œé¢æˆªå›¾å±•ç¤º
- ğŸ“– **æ–‡æ¡£å®Œå–„** - æ›´æ–°äº†ä¸»é¡µ READMEï¼Œå¢åŠ äº†è¯¦ç»†çš„ä½¿ç”¨æŒ‡å—
- ğŸ¯ **å…³é”®è¯å”¤é†’** - æ˜ç¡®äº†æ”¯æŒ"ä½ å¥½å°ç”µ"å’Œ"ä½ å¥½å°å¨œ"ä¸¤ä¸ªå”¤é†’è¯
- ğŸ–¥ï¸ **ç•Œé¢ä¼˜åŒ–** - å®Œå–„äº† WinUI åº”ç”¨çš„åŠŸèƒ½è¯´æ˜å’Œä½¿ç”¨æµç¨‹

### å†å²æ›´æ–°

è¯¦ç»†çš„æ›´æ–°è®°å½•è¯·æŸ¥çœ‹ [CHANGELOG.md](CHANGELOG.md)ã€‚

### ç‰ˆæœ¬å‘å¸ƒ

- **v1.0.0** (2025-05-30) - é¦–ä¸ªæ­£å¼ç‰ˆæœ¬ï¼ŒåŒ…å«å®Œæ•´çš„è¯­éŸ³äº¤äº’åŠŸèƒ½
- **v0.9.x** - æµ‹è¯•ç‰ˆæœ¬ï¼ŒåŠŸèƒ½å¼€å‘å’Œæµ‹è¯•é˜¶æ®µ
- **å½“å‰å¼€å‘ç‰ˆ** - æŒç»­æ›´æ–°ä¸­ï¼ŒåŒ…å«æœ€æ–°åŠŸèƒ½å’Œæ”¹è¿›

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æº - æŸ¥çœ‹ [LICENSE](LICENSE.txt) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢ [xiaozhi-esp32](https://github.com/78/xiaozhi-esp32) é¡¹ç›®æä¾›çš„å‚è€ƒå®ç°
- æ„Ÿè°¢ [py-xiaozhi](https://github.com/huangjunsen0406/py-xiaozhi) é¡¹ç›®æä¾›çš„å‚è€ƒå®ç°
- æ„Ÿè°¢ [xiaozhi-sharp](https://github.com/GreenShadeZhang/xiaozhi-sharp) é¡¹ç›®æä¾›çš„å‚è€ƒå®ç°
- æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…çš„åŠªåŠ›
- æ„Ÿè°¢å¼€æºç¤¾åŒºçš„æ”¯æŒ

## ğŸ“ è”ç³»æˆ‘ä»¬

- **GitHub Issues** - [æäº¤é—®é¢˜æˆ–å»ºè®®](https://github.com/maker-community/Verdure.Assistant/issues)
- **GitHub Discussions** - [å‚ä¸è®¨è®º](https://github.com/maker-community/Verdure.Assistant/discussions)

---

<p align="center">
  å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘ç»™æˆ‘ä»¬ä¸€ä¸ª â­
</p>